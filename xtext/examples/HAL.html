<!DOCTYPE HTML>

<html>
	<head>
		<title>HAL Interface</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>


	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<div class="content">
							<div class="inner">
								<h1>Home Automation Language</h1>
								<p>Jeffery Tang	-	Weijing Zhang	-	Tian Han Jiang</p>
							</div>
						</div>
						<nav>
							<ul>
								<li><a href="#Visual">Visual Interface</a></li>
								<li><a href="#Menu">Menu Interface</a></li>
							</ul>
						</nav>
					</header>

				<!-- Main -->
					<div id="main">

						<!-- Visual -->
							<article id="Visual">
								<h2 class="major">Rooms</h2>

								<!-- Device Toggles -->
								<ul style="list-style-type: none; columns: 8; -webkit-columns: 8; -moz-columns: 8;">
									<li>
										<label class="switch">
											<input type="checkbox" onChange="displaySensors()" checked>
											<span class="slider round"></span>
										</label>
										<p>Sensor</p>
									</li>
									<li>
										<label class="switch">
											<input type="checkbox" onChange="displayActuators()" checked>
											<span class="slider round"></span>
										</label>
										<p>Actuator</p>
									</li>
									<li style="padding-left: 0">
										<label class="switch">
											<input type="checkbox" onChange="toggleHide()">
											<span class="slider round"></span>
										</label>
										<p>Enable click to hide device</p>
									</li>
								</ul>

								<small>All measurements are in cm</small>
								<br><br>

								<!-- Acceleo template -->


									<!-- Studio -->
									<div class="section">
										<h3 class="major">Studio</h3>

										<div style="position: relative; border: 10px solid #DCDCDC; height: 600.0px; width: 600.0px; box-sizing: content-box;">

													<div class="actuator" style="position: absolute; top: 0.0px; left: 100.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Philips Hue lamp"</li>
																<li>(50.0, 150.0)</li>
							
																<li>turnOn</li>
																<li>turnOff</li>
																<li>changeColor</li>
																<li>dim</li>
																<li>brighten</li>
																<li>pulse</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 150.0px; left: 150.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Philips Hue #1"</li>
																<li>(200.0, 200.0)</li>
							
																<li>turnOn</li>
																<li>turnOff</li>
																<li>changeColor</li>
																<li>dim</li>
																<li>brighten</li>
																<li>pulse</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 350.0px; left: 150.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Philips Hue #2"</li>
																<li>(400.0, 200.0)</li>
							
																<li>turnOn</li>
																<li>turnOff</li>
																<li>changeColor</li>
																<li>dim</li>
																<li>brighten</li>
																<li>pulse</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 150.0px; left: 350.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Philips Hue #3"</li>
																<li>(200.0, 400.0)</li>
							
																<li>turnOn</li>
																<li>turnOff</li>
																<li>changeColor</li>
																<li>dim</li>
																<li>brighten</li>
																<li>pulse</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 350.0px; left: 350.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Philips Hue #4"</li>
																<li>(400.0, 400.0)</li>
							
																<li>turnOn</li>
																<li>turnOff</li>
																<li>changeColor</li>
																<li>dim</li>
																<li>brighten</li>
																<li>pulse</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 0.0px; left: 100.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Amazon Echo Studio"</li>
																<li>(50.0, 150.0)</li>
							
																<li>play</li>
																<li>pause</li>
																<li>increaseVolume</li>
																<li>decreaseVolume</li>
																<li>nextTrack</li>
																<li>previousTrack</li>
																<li>shufflePlaylist</li>
																<li>randomPlaylist</li>
																<li>voiceAssistant</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: -50.0px; left: -50.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Arlo Pro 4"</li>
																<li>(0.0, 0.0)</li>
							
																<li>record</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: -50.0px; left: 250.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Eve Energy"</li>
																<li>(0.0, 300.0)</li>
							

															</ul>
														</div>
													</div>


													<div class="sensor" style="position: absolute; top: 100.0px; left: 100.0px;">
														<img class="displayImage" src="./images/sensor.png" alt="Sensor">
														<div class="description">
															<ul>
																<li>proximity1</li>
																<li>(150.0, 150.0)</li>
																
															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 50.0px; left: 550.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"home alone 4 curtain mover"</li>
																<li>(100.0, 600.0)</li>
							
																<li>open</li>
																<li>close</li>

															</ul>
														</div>
													</div>


													<div class="sensor" style="position: absolute; top: -50.0px; left: 250.0px;">
														<img class="displayImage" src="./images/sensor.png" alt="Sensor">
														<div class="description">
															<ul>
																<li>"nest learning thermostat (sensor)"</li>
																<li>(0.0, 300.0)</li>
																
															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: -50.0px; left: 250.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"nest learning thermostat (actuator)"</li>
																<li>(0.0, 300.0)</li>
							
																<li>increaseTemp</li>
																<li>decreaseTemp</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: -50.0px; left: -50.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"August Smart Lock Pro"</li>
																<li>(0.0, 0.0)</li>
							
																<li>lock</li>
																<li>unlock</li>

															</ul>
														</div>
													</div>


													<div class="sensor" style="position: absolute; top: -50.0px; left: -50.0px;">
														<img class="displayImage" src="./images/sensor.png" alt="Sensor">
														<div class="description">
															<ul>
																<li>"mahogany door"</li>
																<li>(0.0, 0.0)</li>
																
															</ul>
														</div>
													</div>

										</div>
									</div>

									<br><br><br>



									<!-- Bathroom -->
									<div class="section">
										<h3 class="major">Bathroom</h3>

										<div style="position: relative; border: 10px solid #DCDCDC; height: 200.0px; width: 300.0px; box-sizing: content-box;">
										</div>
									</div>

									<br><br><br>



									<!-- Kitchen -->
									<div class="section">
										<h3 class="major">Kitchen</h3>

										<div style="position: relative; border: 10px solid #DCDCDC; height: 250.0px; width: 250.0px; box-sizing: content-box;">

													<div class="sensor" style="position: absolute; top: 75.0px; left: 75.0px;">
														<img class="displayImage" src="./images/sensor.png" alt="Sensor">
														<div class="description">
															<ul>
																<li>"proximity5"</li>
																<li>(125.0, 125.0)</li>
																
															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 75.0px; left: 75.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"Philips Hue #5"</li>
																<li>(125.0, 125.0)</li>
							
																<li>turnOn</li>
																<li>turnOff</li>
																<li>changeColor</li>
																<li>dim</li>
																<li>brighten</li>
																<li>pulse</li>

															</ul>
														</div>
													</div>


													<div class="actuator" style="position: absolute; top: 200.0px; left: 200.0px">
														<img img class="displayImage" src="./images/actuator.png" alt="Actuator">
														<div class="description">
															<ul>
																<li>"inconspicuous government listening device"</li>
																<li>(250.0, 250.0)</li>
							
																<li>record</li>

															</ul>
														</div>
													</div>

										</div>
									</div>

									<br><br><br>

							</article>

						<!-- Menu -->
							<article id="Menu">
								<h2 class="major">Menu</h2>

								<small>All measurements are in cm</small>
								<br><br>

								<!-- Select shown device-->
								<select id="selectDevice">
									<li>
										<option value="">Show all</option>
									</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Philips Hue lamp"	|	(50.0, 150.0)'> 
													Studio "Philips Hue lamp"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Philips Hue #1"	|	(200.0, 200.0)'> 
													Studio "Philips Hue #1"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Philips Hue #2"	|	(400.0, 200.0)'> 
													Studio "Philips Hue #2"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Philips Hue #3"	|	(200.0, 400.0)'> 
													Studio "Philips Hue #3"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Philips Hue #4"	|	(400.0, 400.0)'> 
													Studio "Philips Hue #4"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Amazon Echo Studio"	|	(50.0, 150.0)'> 
													Studio "Amazon Echo Studio"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Arlo Pro 4"	|	(0.0, 0.0)'> 
													Studio "Arlo Pro 4"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"Eve Energy"	|	(0.0, 300.0)'> 
													Studio "Eve Energy"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Sensor	|	proximity1	|	(150.0, 150.0)'> 
													Studio proximity1
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"home alone 4 curtain mover"	|	(100.0, 600.0)'> 
													Studio "home alone 4 curtain mover"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Sensor	|	"nest learning thermostat (sensor)"	|	(0.0, 300.0)'> 
													Studio "nest learning thermostat (sensor)"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"nest learning thermostat (actuator)"	|	(0.0, 300.0)'> 
													Studio "nest learning thermostat (actuator)"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Actuator	|	"August Smart Lock Pro"	|	(0.0, 0.0)'> 
													Studio "August Smart Lock Pro"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Studio	600.0 X 600.0: 	Sensor	|	"mahogany door"	|	(0.0, 0.0)'> 
													Studio "mahogany door"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Kitchen	250.0 X 250.0: 	Sensor	|	"proximity5"	|	(125.0, 125.0)'> 
													Kitchen "proximity5"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Kitchen	250.0 X 250.0: 	Actuator	|	"Philips Hue #5"	|	(125.0, 125.0)'> 
													Kitchen "Philips Hue #5"
												</option>
											</li>
											<li>
												<!-- option value: roomName, roomLen, roomWidth, deviceType, deviceName, deviceLen, deviceWidth -->
												<option value='Kitchen	250.0 X 250.0: 	Actuator	|	"inconspicuous government listening device"	|	(250.0, 250.0)'> 
													Kitchen "inconspicuous government listening device"
												</option>
											</li>
								</select>
								<br/>
								<p id="result" style="display:none"></p>
	
								<!-- Room Table -->
								<table id="allDevices">
									<tr>
										<th>Rooms</th>
										<th>Devices</th>
									</tr>
									<tr>
										<td><p>Studio <br> 600.0 X 600.0</p><br></td>
										<td>
													Actuator	|	"Philips Hue lamp"	|	(50.0, 150.0) <br>
													Actuator	|	"Philips Hue #1"	|	(200.0, 200.0) <br>
													Actuator	|	"Philips Hue #2"	|	(400.0, 200.0) <br>
													Actuator	|	"Philips Hue #3"	|	(200.0, 400.0) <br>
													Actuator	|	"Philips Hue #4"	|	(400.0, 400.0) <br>
													Actuator	|	"Amazon Echo Studio"	|	(50.0, 150.0) <br>
													Actuator	|	"Arlo Pro 4"	|	(0.0, 0.0) <br>
													Actuator	|	"Eve Energy"	|	(0.0, 300.0) <br>
													Sensor	|	proximity1	|	(150.0, 150.0) <br>
													Actuator	|	"home alone 4 curtain mover"	|	(100.0, 600.0) <br>
													Sensor	|	"nest learning thermostat (sensor)"	|	(0.0, 300.0) <br>
													Actuator	|	"nest learning thermostat (actuator)"	|	(0.0, 300.0) <br>
													Actuator	|	"August Smart Lock Pro"	|	(0.0, 0.0) <br>
													Sensor	|	"mahogany door"	|	(0.0, 0.0) <br>
										</td>
									</tr>
									<tr>
										<td><p>Bathroom <br> 200.0 X 300.0</p><br></td>
										<td>
										</td>
									</tr>
									<tr>
										<td><p>Kitchen <br> 250.0 X 250.0</p><br></td>
										<td>
													Sensor	|	"proximity5"	|	(125.0, 125.0) <br>
													Actuator	|	"Philips Hue #5"	|	(125.0, 125.0) <br>
													Actuator	|	"inconspicuous government listening device"	|	(250.0, 250.0) <br>
										</td>
									</tr>
								</table>


								<h2 class="major">Automation rule</h2>
								<!-- Automation rule-->	
								<table>
									<tr>
										<th>Name</th>
										<th>Rule</th>
									</tr>
								
										<tr class="rule">
											<td>
											Autolock
											</td>
											<td>
											<b>WHEN</b>
											   "mahogany door" IN Studio = "closed"
											   <br/>
											<b>THEN</b>
											   <br/>"August Smart Lock Pro".lock IN Studio
											</td>
										</tr>
										<tr class="rule">
											<td>
											TurnOnLightsInKitchen
											</td>
											<td>
											<b>WHEN</b>
											   "proximity5" IN Kitchen <= "5min (last detection)"
											   <br/>
											<b>THEN</b>
											   <br/>"Philips Hue #5".turnOn IN Kitchen
											</td>
										</tr>
										<tr class="rule">
											<td>
											TurnOnLightsInKitchen
											</td>
											<td>
											<b>WHEN</b>
											   "proximity5" IN Kitchen > "5min (last detection)"
											   <br/>
											<b>THEN</b>
											   <br/>"Philips Hue #5".turnOff IN Kitchen
											</td>
										</tr>
									
								</table>							
								
							</article>

					</div>

				<!-- Footer -->
					<footer id="footer">
						<p class="copyright">&copy; ECSE439P 7. Design adapted from: <a href="https://html5up.net">HTML5 UP</a>.</p>
					</footer>

			</div>

		<!-- BG -->
			<div id="bg"></div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

		<!-- HAl specific scripts -->
			<script>
				function displaySensors() {
					var x = document.getElementsByClassName("sensor");
					if (window.getComputedStyle(x[0]).display === "none") {
						document.querySelectorAll(".sensor").forEach(a => {
							a.style.display = "block";
							a.style.visibility = "visible";
						});
					}
					else {
						document.querySelectorAll(".sensor").forEach(a=>a.style.display = "none");
  					}
				}

				function displayActuators() {
					var x = document.getElementsByClassName("actuator");
					if (window.getComputedStyle(x[0]).display === "none") {
						document.querySelectorAll(".actuator").forEach(a => {
							a.style.display = "block";
							a.style.visibility = "visible";
						});
					}
					else {
						document.querySelectorAll(".actuator").forEach(a=>a.style.display = "none");
  					}
				}

				$("#selectDevice").change(function(){
					
					var device = $("#selectDevice").val();
					$("#result").text(device);

					
					for (var trRule of document.getElementsByClassName('rule')) {
						trRule.style.display = 'table-row';
					}

					if(device != ""){
						$("#allDevices").hide();
						$("#result").show();

						var terms = device.split("\t");
						var nameForRule = terms.at(4) + " IN " + terms.at(0);
						var nameForRule2 = terms.at(4) + ".";
						for (var trRule of document.getElementsByClassName('rule')) {
							if (!trRule.children[1].innerHTML.includes(nameForRule) && !trRule.children[1].innerHTML.includes(nameForRule2)) {
								trRule.style.display = 'none';
							}
						}
					}else{
						$("#allDevices").show();
						$("#result").hide();
					}
				})

				var hideMode = false;
				function toggleHide() {
					hideMode = !hideMode;
				}

				document.querySelectorAll(".sensor, .actuator").forEach(d => {
					d.onclick = () => {
						if (hideMode) {
							d.style.visibility = "hidden";
						}
					}
				})
			</script>
	</body>
</html>
